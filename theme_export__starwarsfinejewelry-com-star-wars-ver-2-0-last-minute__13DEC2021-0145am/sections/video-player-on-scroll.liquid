<div class="medium-up--hide video-wrapper-new" style="padding-top:{{ 1 | divided_by: section.settings.image1.aspect_ratio | times: 100}}%;">
  <video width="100%" height="100%" playsinline autoplay muted loop id="home_video">
    <source src="{{ section.settings.mobVideo }}" type="video/mp4">
    Your browser does not support the video tag.
  </video>
</div>
<div class="small--hide">
  <div id="trigger1" class="spacer s0"></div>
  <div class="scroll-video-wrapper" id="scroll-video-wrapper">
    <canvas id="hero-lightpass"></canvas>
  </div>
  <style>
    .page-container{
      transform: none !important;
    }
    #hero-lightpass{
      width:100%;
      height: calc(100vh - 126px);
      object-fit: fill;
    }
  </style>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/ScrollMagic.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/animation.gsap.min.js"></script>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/debug.addIndicators.min.js"></script> -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
<script type="text/javascript">
  var controller = new ScrollMagic.Controller();
  var scene = new ScrollMagic.Scene({triggerElement: "#trigger1", duration: 20000,triggerHook: 0.138})
  .setPin("#scroll-video-wrapper")// add indicators (requires plugin)
  .addTo(controller);
</script>
{% schema %}
  {
    "name": "Scroll video",
    "settings": [
	 {
        "type": "image_picker",
        "id": "image1",
        "label": "Mobile video poster"
      },
	  {
        "type": "textarea",
        "id": "mobVideo",
        "label": "mp4 mobile video"
      }
	]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
