{% if section.settings.enable_section %}
<section class="section-wrapper section-spacing">
  {% if section.settings.banner_image != blank %}
  <div class="page-width">
    {% assign image = section.settings.banner_image | img_url: '1x1' | replace: '_1x1.', '_{width}x.' %}
    <div class="image-wrapper absolute-image-wrapper" style="padding-top:{{ 1 | divided_by: section.settings.banner_image.aspect_ratio | times: 100 }}%;">
      <img class="lazyload" 
           data-src="{{ image }}" 
           data-widths="[180, 360, 375, 414, 540, 800, 1024, 1280, 1340, 1920 ]" 
           data-aspectratio="{{ section.settings.banner_image.aspect_ratio }}" 
           data-sizes="auto"
           alt="" />
    </div>
  </div>
  {% endif %}
  <div class="content text-center">
    <div class="page-width">
      {% if section.settings.title != blank %}
      <h2 class="title">{{ section.settings.title }}</h2>
      {% endif %}
      {% if section.settings.button_label and section.settings.button_url != blank %}
      <a class="btn btn_primary" href="{{ section.settings.button_url }}">
        {{ section.settings.button_label }}
      </a>
      {% endif %}
      {% if section.settings.custom_html != blank %}
      <div class="custom-html">{{ section.settings.custom_html }}</div>
      {% endif %}
    </div>
  </div>
</section>
{% endif %}

{% schema %}
  {
    "name": "Banner with Content",
	"class": "er-banner-with-content",
    "settings": [
      {
        "type": "checkbox",
        "id": "enable_section",
        "label": "Enable section",
		"default": true
      },
	  {
        "type": "image_picker",
        "id": "banner_image",
        "label": "Banner",
        "info": "Recommended size 1244x591 (px)"
      },
	  {
		"type": "text",
		"id": "title",
		"label": "Title",
		"default": "Title"
	  },
	  {
		"type": "text",
		"id": "button_label",
		"label": "Button label",
		"default": "Discover full collection"
	  },
	  {
		"type": "url",
		"id": "button_url",
		"label": "Button link"
	  },
	  {
        "type": "textarea",
        "id": "custom_html",
        "label": "Custom HTML"
      }
	]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
