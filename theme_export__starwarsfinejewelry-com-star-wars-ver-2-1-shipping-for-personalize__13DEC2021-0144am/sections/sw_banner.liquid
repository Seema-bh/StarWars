<section data-section-id="{{ section.id }}" >
  <div class="starwars__section-spacer white-spacer {{ request.locale.name | handle }}">
    
  </div>
  {% assign localName = request.locale.name | handle %}  
  
  <div class="video__wrapper">
    {% if section.settings.banner_small != blank %}
    {% capture img_id %}starwarsMobileColumnImage-{{ section.id }}{% endcapture %}
    {%- assign max_height = 511 -%}
    {%- assign img_url = section.settings.banner_small | img_url: '1x1' | replace: '_1x1.', '_{width}x.' -%}
    <div class="medium-up--hide">
      {% if section.settings.video_url_mobile == blank %}
      <div class="starwars__banner" style="padding-top:{{ 1 | divided_by: section.settings.banner_small.aspect_ratio | times: 100}}%;">
        <img id="{{ img_id }}"
        class="custom__image lazyload js image_scale"
        data-src="{{ img_url }}"
        data-widths="[320, 360, 370, 414, 540, 720]"
        data-aspectratio="{{ section.settings.banner_small.aspect_ratio }}"
        data-sizes="auto"
        alt="starwars Banner">
        {% unless section.settings.button_url == blank %}
        <a {% if section.settings.video_link-trackingID != blank %}id="{{ section.settings.video_link-trackingID }}"{% endif %} href="{{ section.settings.button_url }}" class="banner_link"></a>
        {% endunless %}
      </div>
      {% else %}
      <div class="medium-up--hide">
        <div class="video-wrapper-new starwars__banner" style="padding-top:{{ 1 | divided_by: section.settings.banner_small.aspect_ratio | times: 100}}%;">
          <video width="100%" height="100%" playsinline autoplay muted loop class="custom__image" id="homepage-video_personalize" poster="{{ section.settings.banner_small | img_url:"master" }}">
            <source src="{{ section.settings.video_url_mobile }}" type="video/mp4">
            Your browser does not support the video tag.
          </video>
          {% unless section.settings.button_url == blank %}
          <a {% if section.settings.video_link-trackingID != blank %}id="{{ section.settings.video_link-trackingID }}"{% endif %} href="{{ section.settings.button_url }}" class="banner_link"></a>
          {% endunless %}
        </div>
      </div>
      {% endif %}
    </div>
    {% endif %}
    
    
    {% if section.settings.banner_large != blank %}
    {%- assign img_url = section.settings.banner_large | img_url: '1x1' | replace: '_1x1.', '_{width}x.' -%}
    {% if section.settings.video_url == blank %}
    <div class="small--hide" >
      <div class="starwars__banner" style="padding-top:{{ 1 | divided_by: section.settings.banner_large.aspect_ratio | times: 100}}%;">
        <img id="{{ img_id }}"
        class="custom__image lazyload js image_scale"
        data-src="{{ img_url }}"
        data-widths="[767, 800, 1020, 1200, 1280, 1370, 1400, 1600, 1728, 1920, 2048]"
        data-aspectratio="{{ section.settings.banner_large.aspect_ratio }}"
        data-sizes="auto"
        alt="starwars Banner">
        {% unless section.settings.button_url == blank %}
        <a {% if section.settings.video_link-trackingID != blank %}id="{{ section.settings.video_link-trackingID }}"{% endif %} href="{{ section.settings.button_url }}" class="banner_link"></a>
        {% endunless %}
      </div>
    </div>
    {% else %}
    <div class="small--hide" >
      <div class="video-wrapper-new starwars__banner" style="padding-top:{{ 1 | divided_by: section.settings.banner_large.aspect_ratio | times: 100}}%;">
        <video width="100%" height="100%" autoplay muted loop class="custom__image" id="homepage-video_personalize" poster="{{ section.settings.banner_large | img_url:"master" }}">
          <source src="{{ section.settings.video_url }}" type="video/mp4">
          Your browser does not support the video tag.
        </video>
        {% unless section.settings.button_url == blank %}
        <a href="{{ section.settings.button_url }}" class="banner_link" id="SW_kyber_crystal"></a>
        {% endunless %}
      </div>
    </div>
    {% endif %}
    {% endif %}
    {% if section.settings.video_text != blank or section.settings.button_text != blank or section.settings.video_image != blank %}
    <div class="video_text_image">
      <div class="text_content">
        {% if section.settings.video_text != blank %}
        <p>{{ section.settings.video_text }}</p>
        {% endif %}
        {% if section.settings.button_text != blank %}
        <a {% if section.settings.video_link-trackingID != blank %}id="{{ section.settings.video_link-trackingID }}"{% endif %} href="{{ section.settings.button_url }}" class="video_btn">{{ section.settings.button_text }}</a>
        {% endif %}
      </div>
      {% if section.settings.video_image != blank %}
      <div class="image_content">
        <img class="small--hide lazyload" data-src="{{ section.settings.video_image | img_url: 'master' }}" data-sizes="auto">
        <img class="medium-up--hide lazyload" data-src="{{ section.settings.video_mob_image | img_url: 'master' }}" data-sizes="auto">
      </div>
      {% endif %}
    </div>
    {% endif %}
  </div>
  
</section>

{% if section.settings.btn_image != blank %}
<style>
  .banner-section .video_text_image .video_btn{
    background-image: url('{{ section.settings.btn_image | img_url: 'master' }}');
  }
</style>
{% endif %}
{% schema %}
{
  "name": "starwars banner",
  "class": "banner-section index-section index-section--flush",
  "settings": [
  {
    "type": "image_picker",
    "id": "banner_large",
    "label": "Banner Image (Desktop)",
    "info": "Recommended size 2562x1298 (px)"
  },
  {
    "type": "textarea",
    "id": "video_url",
    "label": "Video (Desktop)"
  },	
  {
    "type": "image_picker",
    "id": "banner_small",
    "label": "Banner Image (Mobile)",
    "info": "Recommended size 800x1470 (px)"
  },
  {
    "type": "textarea",
    "id": "video_url_mobile",
    "label": "Video (Desktop)"
  },
  {
    "type": "text",
    "id": "video_text",
    "label": "Video Text"
  },
  {
    "type": "image_picker",
    "id": "video_image",
    "label": "Right Desktop Image"
  },
  {
    "type": "image_picker",
    "id": "video_mob_image",
    "label": "Right Mobile Image"
  },
  {
    "type": "image_picker",
    "id": "btn_image",
    "label": "Button Image"
  },
  {
    "type": "text",
    "id": "video_link-trackingID",
    "label": "Video Tracking Link"
  },
  {
    "type": "text",
    "id": "button_text",
    "label": "Buton Text"
  },
  {
    "type": "url",
    "id": "button_url",
    "label": "Button URL"
  }
  ],
  "presets": [
  {
    "name": "Banner",
    "category": "Advanced layout"
  }
  ]
}
{% endschema %}