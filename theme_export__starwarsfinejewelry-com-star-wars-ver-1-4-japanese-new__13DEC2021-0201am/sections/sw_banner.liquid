<section data-section-id="{{ section.id }}" >
  <div class="starwars__section-spacer white-spacer {{ request.locale.name | handle }}">

  </div>
  {% assign localName = request.locale.name | handle %}
  
  {% if section.settings.banner_small != blank %}
  {% capture img_id %}starwarsMobileColumnImage-{{ section.id }}{% endcapture %}
  {%- assign max_height = 511 -%}
  {%- assign img_url = section.settings.banner_small | img_url: '1x1' | replace: '_1x1.', '_{width}x.' -%}
  <div class="medium-up--hide">
    {% if section.settings.video_url_mobile == blank %}
    <div class="starwars__banner" style="padding-top:{{ 1 | divided_by: section.settings.banner_small.aspect_ratio | times: 100}}%;">
      <img id="{{ img_id }}"
           class="custom__image lazyload js image_scale"
           data-src="{{ img_url }}"
           data-widths="[180, 360, 540, 720, 900, 1080, 1296, 1512, 1728, 2048]"
           data-aspectratio="{{ section.settings.banner_small.aspect_ratio }}"
           data-sizes="auto"
           alt="starwars Banner">
      {% unless section.settings.button_url == blank %}
    <a href="{{ section.settings.button_url }}/" class="banner_link"></a>
    {% endunless %}
    </div>
    {% else %}
    <div class="medium-up--hide">
    <div class="video-wrapper-new starwars__banner" style="padding-top:{{ 1 | divided_by: section.settings.banner_small.aspect_ratio | times: 100}}%;">
      <video width="100%" height="100%" playsinline autoplay muted loop
             class="custom__image" id="home_mobile_video"
             poster="{{ section.settings.banner_small | img_url:"master" }}">
        <source src="{{ section.settings.video_url_mobile }}" type="video/mp4">
        Your browser does not support the video tag.
      </video>
      {% unless section.settings.button_url == blank %}
    <a href="{{ section.settings.button_url }}/" class="banner_link" id="SW_kyber_crystal"></a>
    {% endunless %}
    </div>
    </div>
    {% endif %}
  </div>
  {% endif %}
  

  {% if section.settings.banner_large != blank %}
  {%- assign img_url = section.settings.banner_large | img_url: '1x1' | replace: '_1x1.', '_{width}x.' -%}
  {% if section.settings.video_url == blank %}
  <div class="small--hide" >
    <div class="starwars__banner" style="padding-top:{{ 1 | divided_by: section.settings.banner_large.aspect_ratio | times: 100}}%;">
      <img id="{{ img_id }}"
           class="custom__image lazyload js image_scale"
           data-src="{{ img_url }}"
           data-widths="[180, 360, 540, 720, 900, 1080, 1296, 1512, 1728, 2048]"
           data-aspectratio="{{ section.settings.banner_large.aspect_ratio }}"
           data-sizes="auto"
           alt="starwars Banner">
      {% unless section.settings.button_url == blank %}
      <a href="{{ section.settings.button_url }}/" class="banner_link"></a>
      {% endunless %}
    </div>
  </div>
  {% else %}
  <div class="small--hide" >
  <div class="video-wrapper-new starwars__banner" style="padding-top:{{ 1 | divided_by: section.settings.banner_large.aspect_ratio | times: 100}}%;">
    <video width="100%" height="100%" autoplay muted loop
           class="custom__image" id="home_video"
           poster="{{ section.settings.banner_large | img_url:"master" }}">
      <source src="{{ section.settings.video_url }}" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    {% unless section.settings.button_url == blank %}
    <a href="{{ section.settings.button_url }}/" class="banner_link" id="SW_kyber_crystal"></a>
    {% endunless %}
  </div>
  </div>
  {% endif %}
  {% endif %}

  

</section>

{% schema %}
{
  "name": "starwars banner",
  "class": "banner-section index-section index-section--flush",
  "settings": [
    {
      "type": "image_picker",
      "id": "banner_large",
      "label": "Banner Image (Desktop)",
      "info": "Recommended size 2562x1298 (px)"
    },
    {
      "type": "textarea",
      "id": "video_url",
      "label": "Video (Desktop)"
    },	
    {
      "type": "image_picker",
      "id": "banner_small",
      "label": "Banner Image (Mobile)",
      "info": "Recommended size 800x1470 (px)"
    },
    {
      "type": "textarea",
      "id": "video_url_mobile",
      "label": "Video (Desktop)"
    },
    {
      "type": "url",
      "id": "button_url",
      "label": "Button URL"
    }
  ],
    "presets": [
    {
      "name": "Banner",
      "category": "Advanced layout"
    }
  ]
}
{% endschema %}